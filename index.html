<!doctype html>

<head>
	<meta charset="utf-8">
	<script>
		// TODO: create a handler
	  function setSearchEngine() {
		let actions = {
                        "google": "https://www.google.com/search" ,
                        "duckduckgo": "https://duckduckgo.com/",
                        "bing": "https://www.bing.com/search" ,
                        "ask":"https://www.ask.com/web"
                    };
            let form=document.getElementById("searchForm");
			let searchTerm = document.querySelector("input[name=q]").value;
			//console.log(selectedEngine);
			//let action = actions[selectedEngine.value];
			//console.log(action);
            // let action =  "https://google.com/search"
			
            if (searchTerm.trim() === "") {
                event.preventDefault();
                alert("Please enter a search term");
                return;
            }

            let selectedEngine = document.querySelector('input[name=engine]:checked');
			//let action = actions[selectedEngine.value];
            
            if (selectedEngine === null) {
                event.preventDefault();
                alert('Invalid search engine selection');
                return;
            }

            let action = actions[selectedEngine.value];

            if (action === undefined) {
                event.preventDefault();
                alert('Invalid search engine selection');
                return;
            }

            form.setAttribute('action', action);
				}			


		window.addEventListener("load", function(){
			let form = document.getElementById("searchForm");
            form.addEventListener('submit', setSearchEngine);
    });

	
	</script>
</head>

<body>

	<form id="searchForm">
	<label> <input type="text" name="q"/></label>
	<label>Google<input type="radio" name="engine" value="google"/></label>
	<label>DuckDuckGo<input type="radio" name="engine" value="duckduckgo"/></label>
	<label>Bing<input type="radio" name="engine" value="bing"/></label>
	<label>ASk<input type="radio" name="engine" value="ask"/></label>
	<input type="submit" value="Go!"> 
	</form>

</body>